import config from '../../config.js';
import getHeaders from '../../utils/get-headers.js';
const { functions } = config.server;
export async function logs(id, options, auth) {
    const { limit } = options;
    const response = await fetch(`${functions}vX/functions/${id}/logs?limit=${limit}`, {
        headers: getHeaders(auth),
        method: 'GET',
    });
    const json = await response.json();
    return {
        ok: response.ok,
        error: response.ok ? null : json?.error?.message,
        logs: response.ok ? json.logs : [],
        total: response.ok ? json.total : 0,
    };
}
export async function deleteLogs(id, auth) {
    const response = await fetch(`${functions}vX/functions/${id}/logs`, {
        headers: getHeaders(auth),
        method: 'DELETE',
    });
    const json = response.ok ? null : await response.json();
    return {
        ok: response.ok,
        error: response.ok ? null : json?.error?.message,
    };
}
